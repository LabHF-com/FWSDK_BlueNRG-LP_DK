<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework: ACI HAL events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-BLE Stack Library APIs, events callbacks &amp; application framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ACI HAL events<div class="ingroups"><a class="el" href="group___h_a_l___l_l.html">HAL/LL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Events for HAL and proprietary LL.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5be9dbe2c8fc3758a12ee9c5e8a95d86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_i___h_a_l__events.html#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">aci_hal_end_of_radio_activity_event</a> (uint8_t Last_State, uint8_t Next_State, uint32_t Next_State_SysTime)</td></tr>
<tr class="memdesc:ga5be9dbe2c8fc3758a12ee9c5e8a95d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">This event is generated when the device completes a radio activity and provide information when a new radio activity will be performed. Information provided includes type of radio activity and absolute time in system ticks when a new radio activity is schedule, if any. Application can use this information to schedule user activities synchronous to selected radio activities. A command <a class="el" href="group___a_c_i___h_a_l___commands.html#ga120ca17ceac401485f6281f2037126b0">aci_hal_set_radio_activity_mask</a> is provided to enable radio activity events of user interests, by default no events are enabled. User should take into account that enabling radio events in application with intense radio activity could lead to a fairly high rate of events generated. Application use cases includes synchronizing notification with connection interval, switching antenna at the end of advertising or performing flash erase operation while radio is idle.  <a href="#ga5be9dbe2c8fc3758a12ee9c5e8a95d86">More...</a><br /></td></tr>
<tr class="separator:ga5be9dbe2c8fc3758a12ee9c5e8a95d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32e611292f1bb2f1b53304bd222352f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_i___h_a_l__events.html#ga32e611292f1bb2f1b53304bd222352f3">aci_hal_fw_error_event</a> (uint8_t FW_Error_Type, uint8_t Data_Length, uint8_t Data[])</td></tr>
<tr class="memdesc:ga32e611292f1bb2f1b53304bd222352f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This event is generated to report firmware error informations.  <a href="#ga32e611292f1bb2f1b53304bd222352f3">More...</a><br /></td></tr>
<tr class="separator:ga32e611292f1bb2f1b53304bd222352f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18574d3efa063a077a5ac959884b4d36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_i___h_a_l__events.html#ga18574d3efa063a077a5ac959884b4d36">aci_hal_adv_scan_resp_data_update_event</a> (void *Old_Pointer, void *New_Pointer)</td></tr>
<tr class="memdesc:ga18574d3efa063a077a5ac959884b4d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">This event is raised when the advertising or scan response data pointer provided by application becomes active or inactive.  <a href="#ga18574d3efa063a077a5ac959884b4d36">More...</a><br /></td></tr>
<tr class="separator:ga18574d3efa063a077a5ac959884b4d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Events for HAL and proprietary LL. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga18574d3efa063a077a5ac959884b4d36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aci_hal_adv_scan_resp_data_update_event </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Old_Pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>New_Pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This event is raised when the advertising or scan response data pointer provided by application becomes active or inactive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Old_Pointer</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">New_Pointer</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5be9dbe2c8fc3758a12ee9c5e8a95d86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aci_hal_end_of_radio_activity_event </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Last_State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Next_State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Next_State_SysTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This event is generated when the device completes a radio activity and provide information when a new radio activity will be performed. Information provided includes type of radio activity and absolute time in system ticks when a new radio activity is schedule, if any. Application can use this information to schedule user activities synchronous to selected radio activities. A command <a class="el" href="group___a_c_i___h_a_l___commands.html#ga120ca17ceac401485f6281f2037126b0">aci_hal_set_radio_activity_mask</a> is provided to enable radio activity events of user interests, by default no events are enabled. User should take into account that enabling radio events in application with intense radio activity could lead to a fairly high rate of events generated. Application use cases includes synchronizing notification with connection interval, switching antenna at the end of advertising or performing flash erase operation while radio is idle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Last_State</td><td>Completed radio events Values:<ul>
<li>0x00: Idle</li>
<li>0x01: Advertising</li>
<li>0x02: Connection event peripheral</li>
<li>0x03: Scanning</li>
<li>0x04: Connection request</li>
<li>0x05: Connection event central</li>
<li>0x06: TX test mode</li>
<li>0x07: RX test mode </li>
</ul>
</td></tr>
    <tr><td class="paramname">Next_State</td><td>Incoming radio events Values:<ul>
<li>0x00: Idle</li>
<li>0x01: Advertising</li>
<li>0x02: Connection event peripheral</li>
<li>0x03: Scanning</li>
<li>0x04: Connection request</li>
<li>0x05: Connection event central</li>
<li>0x06: TX test mode</li>
<li>0x07: RX test mode </li>
</ul>
</td></tr>
    <tr><td class="paramname">Next_State_SysTime</td><td>32bit absolute current time expressed in internal time units. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga32e611292f1bb2f1b53304bd222352f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aci_hal_fw_error_event </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>FW_Error_Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data_Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Data</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This event is generated to report firmware error informations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FW_Error_Type</td><td>Code identifying the type of error that has occurred in Bluetooth stack. 0x01: L2CAP layer failed recombining a PDU; 0x02: GATT layer received an unexpteced response (protocol violation); 0x03: GATT layer received an unexpteced request (protocol violation); 0x04: No space to store info GATT database info in NVM (database clean-up needed or bonding entries to be removed); 0x05: No space to store bonding info in NVM (database clean-up needed or bonding entries to be removed); 0x06: Link Layer scheduler failed to reschedule slots for too many times (a system reset is recommended; 0x07: Out of memory resources for isochronous channels; 0x08: Error in programming timer for CTE reception functionality. Values:<ul>
<li>0x01: HAL_FW_L2CAP_RECOMBINATION_ERROR</li>
<li>0x02: HAL_FW_GATT_UNEXPECTED_RESPONSE_ERROR</li>
<li>0x03: HAL_FW_GATT_SEQUENTIAL_PROTOCOL_ERROR</li>
<li>0x04: HAL_FW_BONDING_DB_FULL_GATTSERVICE_ERROR</li>
<li>0x05: HAL_FW_BONDING_DB_FULL_PAIRING_ERROR</li>
<li>0x06: HAL_FW_SCHEDULER_OVERRUN_ERROR</li>
<li>0x07: HAL_FW_MEMBUF_NOT_AVAILABLE</li>
<li>0x08: HAL_FW_CTE_TIMER_PROGRAM_ERROR </li>
</ul>
</td></tr>
    <tr><td class="paramname">Data_Length</td><td>Length of Data in octets </td></tr>
    <tr><td class="paramname">Data</td><td>The error event info. If FW_Error_Type is 0x01, 0x02 or 0x03, this parameter contains the connection handle where the abnormal condition has occurred. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2023 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
